(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{163:function(t,e,r){var content=r(170);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(52).default)("0e350bb2",content,!0,{sourceMap:!1})},164:function(t,e,r){var content=r(172);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(52).default)("fa0dfc8a",content,!0,{sourceMap:!1})},165:function(t,e,r){var content=r(175);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(52).default)("1c32fcf6",content,!0,{sourceMap:!1})},169:function(t,e,r){"use strict";var n=r(163);r.n(n).a},170:function(t,e,r){(t.exports=r(51)(!1)).push([t.i,"circle[data-v-016d6b4c]{fill:#ccc;stroke:#333}.fret-0[data-v-016d6b4c]{fill:#cacfd1;stroke:#696969}.fret-1[data-v-016d6b4c]{fill:#cce8ff;stroke:#7ca9cf}.fret-2[data-v-016d6b4c]{fill:#7ce6fa;stroke:#2991a3}.fret-3[data-v-016d6b4c]{fill:#a1f7cc;stroke:#1b995e}.fret-4[data-v-016d6b4c]{fill:#97f48d;stroke:#1f9314}.fret-5[data-v-016d6b4c]{fill:#e1f1bb;stroke:#62860f}.fret-6[data-v-016d6b4c]{fill:#f0eaa1;stroke:#8e8d0e}.fret-7[data-v-016d6b4c]{fill:#efd0b2;stroke:#946a0e}.fret-8[data-v-016d6b4c]{fill:#eeb6ab;stroke:#94400d}.fret-9[data-v-016d6b4c]{fill:#ecbebb;stroke:#99150b}.fret-10[data-v-016d6b4c]{fill:#eab7e4;stroke:#940955}.fret-11[data-v-016d6b4c]{fill:#e8b9e7;stroke:#8b0378}.fret-12[data-v-016d6b4c]{fill:#d7afe7;stroke:#5c036c}.fret-13[data-v-016d6b4c]{fill:#847a95;stroke:#2d0353}.fret-14[data-v-016d6b4c]{fill:#acb0e5;stroke:#1a036e}.fret-15[data-v-016d6b4c]{fill:#5e5f83;stroke:#0b012e}",""])},171:function(t,e,r){"use strict";var n=r(164);r.n(n).a},172:function(t,e,r){(t.exports=r(51)(!1)).push([t.i,"svg[data-v-caed83fe]{position:absolute;width:100%;height:100%}#horizontal-tab[data-v-caed83fe]{background-color:#f0f8ff;height:300px;position:relative}.horizontal-tab-controller[data-v-caed83fe]{margin:10px 0}.input-range[type=range][data-v-caed83fe]{background-color:#eaeaea;height:2px;width:100%;border-radius:6px}.horizontal-tab-string[data-v-caed83fe]{stroke:#a9a9a9;stroke-width:1.5;fill:none}.horizontal-tab-bar-line line[data-v-caed83fe]{stroke:#4169e1;stroke-dasharray:5,5;stroke-width:1;fill:none}.horizontal-tab-bar-line text[data-v-caed83fe]{stroke:none;fill:#4169e1;font-size:1.2rem}",""])},174:function(t,e,r){"use strict";var n=r(165);r.n(n).a},175:function(t,e,r){(t.exports=r(51)(!1)).push([t.i,".score-tab-container>*[data-v-21cdba06]{margin:10px 0}",""])},177:function(t,e,r){"use strict";var n=r(46),o=(r(99),r(100),r(68),r(1)),c={props:{song:{type:Object,required:!0}}},l=r(17),d=Object(l.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("textarea",{staticClass:"textarea is-small"},[this._v(this._s(this.song.score))])}),[],!1,null,null,null).exports,f=(r(166),{props:{passedViewBox:String,x:Number,y:Number,r:Number,pitch:String,nth:Number,capo:Number,tuning:String},data:function(){return{pitchToNumber:{C:0,"C#":1,D:2,"D#":3,E:4,F:5,"F#":6,G:7,"G#":8,A:9,"A#":10,B:11},numberToPitch:{0:"C",1:"C#",2:"D",3:"D#",4:"E",5:"F",6:"F#",7:"G",8:"G#",9:"A",10:"A#",11:"B"}}},computed:{textPositionX:function(){return this.x+1-this.r/2},textPositionY:function(){return this.y+this.r/2},fontSize:function(){return 1.4*this.r},fret:function(){var t=this.tuning[6-this.nth],e=this.pitchToNumber[this.pitch]-this.pitchToNumber[t];return e<0?e+12:e},realPitch:function(){var t=(this.capo+this.pitchToNumber[this.pitch])%12;return this.numberToPitch[t]},openPitch:function(){var t=(this.capo+this.pitchToNumber[this.tuning[6-this.nth]])%12;return this.numberToPitch[t]}},methods:{}}),v=(r(169),{components:{Note:Object(l.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{staticClass:"note",attrs:{viewBox:t.passedViewBox}},[r("circle",{class:"fret-"+t.fret,attrs:{cx:t.x,cy:t.y,r:t.r}}),t._v(" "),r("text",{staticClass:"tab-digit",attrs:{fill:"midnightblue",x:t.textPositionX,y:t.textPositionY,"font-size":t.fontSize}},[t._v(t._s(t.fret))])])}),[],!1,null,"016d6b4c",null).exports},props:{scoreArray:Array,beats:Number,position:String,tuning:String,capo:Number},data:function(){return{consts:{VIEWBOX:"0 0 1200 300",HEIGHT:300,WIDTH:1200,STRING_INTERVAL:30,STRING_OFFSET:45,NOTE_RADIUS:15},currentBarIndex:1,currentNoteWidth:42}},computed:{viewBox:function(){return"".concat(this.currentBarIndex*this.currentNoteWidth*this.beats-20," 0 1200 300")},barWidth:function(){return this.currentNoteWidth*this.beats},noteRadius:function(){return this.currentNoteWidth/3}}}),h=(r(171),Object(l.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v("\n  "+t._s()+"\n  "),r("div",{staticClass:"horizontal-tab-controller"},[r("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),r("div",{staticClass:"field-body"},[r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.tuning,expression:"tuning"}],staticClass:"input is-normal",attrs:{type:"text"},domProps:{value:t.tuning},on:{input:function(e){e.target.composing||(t.tuning=e.target.value)}}})])])])]),t._v(" "),r("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),r("div",{staticClass:"field-body"},[r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.capo,expression:"capo",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",readonly:""},domProps:{value:t.capo},on:{input:function(e){e.target.composing||(t.capo=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),r("p",{staticClass:"help has-text-grey-light"},[t._v("※カポ機能は実装中です")])])])]),t._v(" "),r("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),r("div",{staticClass:"field-body"},[r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentNoteWidth,expression:"currentNoteWidth",modifiers:{number:!0}}],staticClass:"input-range is-primary",attrs:{type:"range",min:"1",max:this.scoreArray.length},domProps:{value:t.currentNoteWidth},on:{__r:function(e){t.currentNoteWidth=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])])]),t._v(" "),r("div",{staticClass:"field is-horizontal"},[t._m(3),t._v(" "),r("div",{staticClass:"field-body"},[r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentBarIndex,expression:"currentBarIndex",modifiers:{number:!0}}],staticClass:"input-range is-primary",attrs:{type:"range",min:"1",max:this.scoreArray.length},domProps:{value:t.currentBarIndex},on:{__r:function(e){t.currentBarIndex=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])])])]),t._v(" "),r("div",{attrs:{id:"horizontal-tab"}},[t._v("\n    "+t._s()+"\n    "),t._l([1,2,3,4,5,6],(function(e){return r("svg",{staticClass:"horizontal-tab-string",attrs:{viewBox:t.consts.VIEWBOX,height:t.consts.HEIGHT,width:t.consts.WIDTH}},[r("line",{attrs:{x1:"0",x2:t.barWidth*t.scoreArray.length+1,y1:e*t.consts.STRING_INTERVAL+t.consts.STRING_OFFSET,y2:e*t.consts.STRING_INTERVAL+t.consts.STRING_OFFSET}})])})),t._v("\n\n    "+t._s()+"\n    "),r("div",{staticClass:"horizontal-tab-score"},t._l(t.scoreArray,(function(e){return r("div",{key:e.index},[t._v("\n\n        "+t._s()+"\n        "+t._s()+"\n        "),r("div",{staticClass:"horizontal-tab-bar-notes"},t._l(e.notes,(function(n,o){return r("div",{key:o,staticClass:"horizontal-tab-notes"},[t._v("\n\n          "+t._s()+"\n          "),e.index*t.beats+o?r("svg",{staticClass:"horizontal-tab-bar-line",attrs:{viewBox:t.viewBox}},[r("text",{attrs:{x:e.index*t.barWidth-5,y:"55"}},[t._v(t._s(e.index))]),t._v(" "),r("line",{attrs:{x1:e.index*t.barWidth,y1:"75",x2:e.index*t.barWidth,y2:"225"}})]):t._e(),t._v("\n\n            "+t._s()+"\n            "),t._l(n,(function(n,c){return r("div",{staticClass:"horizontal-tab-note"},[r("Note",{attrs:{"passed-view-box":t.viewBox,x:e.index*t.barWidth+(o+.5)*t.currentNoteWidth,y:c*t.consts.STRING_INTERVAL+t.consts.STRING_OFFSET,r:t.noteRadius,pitch:n,nth:parseInt(c,10),capo:t.capo,tuning:t.tuning}})],1)}))],2)})),0)])})),0)],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("tuning:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("capo:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("zoom:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("scroll:")])])}],!1,null,"caed83fe",null).exports),m={props:{scoreArray:Array}},_=Object(l.a)(m,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  Vertical\n")])}),[],!1,null,null,null).exports,x=r(173),C=r.n(x);o.default.use(C.a);var y={components:{Score:d,HorizontalTab:h,VerticalTab:_},props:{song:{type:Object,required:!0,default:"song"}},computed:{scoreArray:function(){return this.song.score?this.parse(this.song.score):[]},shareUrl:function(){var t=this.currentPath;return this.song.isEditableShare&&(t+="?"+encodeURIComponent(this.song.score.replace(/,/g,"_"))),t}},data:function(){return{currentPath:""}},mounted:function(){this.currentPath=window.location.href.split("?")[0]},methods:{parse:function(t){var e=t.split("\n").map((function(t){return t.slice(1,-1).split("|")}));return Array.prototype.concat.apply([],e).map((function(t,e){var r={index:e+1},o=t.split(",").map((function(t){if(null!==t.match(/^[1-6]/)){var e=t[0],r=t.slice(1);if("X"===r)return;return Object(n.a)({},e,r)}if("["===t[0]){var o=t.slice(1,-1).split(";"),c={};return o.forEach((function(t,i){if("x"!==t)return c[6-i]=t})),c}return{}}));return r.notes=o,r}))}}},N=(r(174),Object(l.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"score-tab-container"},[r("div",[r("h1",{staticClass:"is-size-1 has-text-weight-light has-text-centered"},[t._v(t._s(t.song.title))]),t._v(" "),r("social-sharing",{attrs:{url:t.shareUrl,title:"TAB譜を共有しよう！","twitter-user":"namaozi"},inlineTemplate:{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("network",{attrs:{network:"twitter"}},[e("button",{staticClass:"button is-info is-small"},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fab fa-twitter"})]),this._v(" "),e("span",[this._v("TABをシェアする")])])])],1)},staticRenderFns:[]}})],1),t._v(" "),r("div",{staticClass:"field is-horizontal"},[t._m(0),t._v(" "),r("div",{staticClass:"field-body"},[r("div",{staticClass:"field"},[r("div",{staticClass:"control"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.song.score,expression:"song['score']"}],staticClass:"textarea",domProps:{value:t.song.score},on:{input:function(e){e.target.composing||t.$set(t.song,"score",e.target.value)}}})])])])]),t._v(" "),r("HorizontalTab",{attrs:{"score-array":t.scoreArray,beats:t.song.beats,capo:t.song.capo,position:t.song.position,tuning:t.song.tuning}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[this._v("score:")])])}],!1,null,"21cdba06",null));e.a=N.exports},187:function(t,e,r){"use strict";r.r(e);r(68);var n=r(177),o=r(178),c=r.n(o),l={components:{ScoreTab:n.a},data:function(){return{song:{title:"playground",position:"relative",tuning:"EADGBE",capo:0,beats:8,score:"|5C,3G,2C,1E,[x;x;E;G;C;G], ,1F,1E|4D,3A,2D,1E,[A#;F;G#;C#;G;x]|",isEditableShare:!0}}},mounted:function(){var t=decodeURIComponent(window.location.href);c.a.parse(t).query&&(this.song.score=c.a.parse(t).query.replace(/%20/g," ").replace(/%7C/g,"|").replace(/_/g,","),console.log(c.a.parse(t).query.replace(/%20/g," ").replace(/%7C/g,"|").replace(/_/g,",")))}},d=r(17),component=Object(d.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("ScoreTab",{attrs:{song:this.song}})],1)}),[],!1,null,null,null);e.default=component.exports}}]);